function Hammer(n,u,k){var h=this;var A={prevent_default:false,css_hacks:true,swipe:true,swipe_time:200,swipe_min_distance:20,drag:true,drag_vertical:true,drag_horizontal:true,drag_min_distance:20,transform:true,scale_treshold:0.1,rotation_treshold:15,tap:true,tap_double:true,tap_max_interval:300,tap_max_distance:10,tap_double_distance:20,hold:true,hold_timeout:500};u=D(A,u);(function(){if(!u.css_hacks){return false}var S=["webkit","moz","ms","o",""];var P={userSelect:"none",touchCallout:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"};var R="";for(var O=0;O<S.length;O++){for(var Q in P){R=Q;if(S[O]){R=S[O]+R.substring(0,1).toUpperCase()+R.substring(1)}n.style[R]=P[Q]}}})();var J=0;var t=0;var K=0;var y={};var L=0;var j=false;var f=null;var e=null;var s=null;var C={x:0,y:0};var c=null;var B=null;var M={};var b=false;var i;var d;var z;var H=("ontouchstart" in window);this.option=function(O,P){if(P!=k){u[O]=P}return u[O]};this.getDirectionFromAngle=function(Q){var R={down:Q>=45&&Q<135,left:Q>=135||Q<=-135,up:Q<-45&&Q>-135,right:Q>=-45&&Q<=45};var P,O;for(O in R){if(R[O]){P=O;break}}return P};this.destroy=function(){if(H){a(n,"touchstart touchmove touchend touchcancel",w)}else{a(n,"mouseup mousedown mousemove",w);a(n,"mouseout",r)}};function v(O){return O.touches?O.touches.length:1}function N(R){R=R||window.event;if(!H){var S=document,P=S.body;return[{x:R.pageX||R.clientX+(S&&S.scrollLeft||P&&P.scrollLeft||0)-(S&&S.clientLeft||P&&S.clientLeft||0),y:R.pageY||R.clientY+(S&&S.scrollTop||P&&P.scrollTop||0)-(S&&S.clientTop||P&&S.clientTop||0)}]}else{var U=[],T;for(var Q=0,O=R.touches.length;Q<O;Q++){T=R.touches[Q];U.push({x:T.pageX,y:T.pageY})}return U}}function o(P,O){return Math.atan2(O.y-P.y,O.x-P.x)*180/Math.PI}function m(Q,P){var O=P.x-Q.x,R=P.y-Q.y;return Math.sqrt((O*O)+(R*R))}function p(O,P){if(O.length==2&&P.length==2){var Q=m(O[0],O[1]);var R=m(P[0],P[1]);return R/Q}return 0}function l(P,Q){if(P.length==2&&Q.length==2){var R=o(P[1],P[0]);var O=o(Q[1],Q[0]);return O-R}return 0}function I(O,P){P.touches=N(P.originalEvent);P.type=O;if(q(h["on"+O])){h["on"+O].call(h,P)}}function E(O){O=O||window.event;if(O.preventDefault){O.preventDefault();O.stopPropagation()}else{O.returnValue=false;O.cancelBubble=true}}function F(){y={};j=false;L=0;J=0;t=0;f=null}var x={hold:function(O){if(u.hold){f="hold";clearTimeout(B);B=setTimeout(function(){if(f=="hold"){I("hold",{originalEvent:O,position:y.start})}},u.hold_timeout)}},swipe:function(U){if(!y.move||f==="transform"){return}var S=y.move[0].x-y.start[0].x;var R=y.move[0].y-y.start[0].y;J=Math.sqrt(S*S+R*R);var Q=new Date().getTime();var T=Q-s;if(u.swipe&&(u.swipe_time>T)&&(J>u.swipe_min_distance)){t=o(y.start[0],y.move[0]);K=h.getDirectionFromAngle(t);f="swipe";var P={x:y.move[0].x-M.left,y:y.move[0].y-M.top};var O={originalEvent:U,position:P,direction:K,distance:J,distanceX:S,distanceY:R,angle:t};I("swipe",O)}},drag:function(T){var R=y.move[0].x-y.start[0].x;var Q=y.move[0].y-y.start[0].y;J=Math.sqrt(R*R+Q*Q);if(u.drag&&(J>u.drag_min_distance)||f=="drag"){t=o(y.start[0],y.move[0]);K=h.getDirectionFromAngle(t);var S=(K=="up"||K=="down");if(((S&&!u.drag_vertical)||(!S&&!u.drag_horizontal))&&(J>u.drag_min_distance)){return}f="drag";var P={x:y.move[0].x-M.left,y:y.move[0].y-M.top};var O={originalEvent:T,position:P,direction:K,distance:J,distanceX:R,distanceY:Q,angle:t};if(j){I("dragstart",O);j=false}I("drag",O);E(T)}},transform:function(S){if(u.transform){if(v(S)!=2){return false}var R=l(y.start,y.move);var T=p(y.start,y.move);if(f!="drag"&&(f=="transform"||Math.abs(1-T)>u.scale_treshold||Math.abs(R)>u.rotation_treshold)){f="transform";y.center={x:((y.move[0].x+y.move[1].x)/2)-M.left,y:((y.move[0].y+y.move[1].y)/2)-M.top};if(j){y.startCenter=y.center}var Q=y.center.x-y.startCenter.x;var P=y.center.y-y.startCenter.y;J=Math.sqrt(Q*Q+P*P);var O={originalEvent:S,position:y.center,scale:T,rotation:R,distance:J,distanceX:Q,distanceY:P,};if(j){I("transformstart",O);j=false}I("transform",O);E(S);return true}}return false},tap:function(S){var P=new Date().getTime();var R=P-s;if(u.hold&&!(u.hold&&u.hold_timeout>R)){return}var Q=(function(){if(C&&u.tap_double&&e=="tap"&&(s-c)<u.tap_max_interval){var V=Math.abs(C[0].x-y.start[0].x);var U=Math.abs(C[0].y-y.start[0].y);return(C&&y.start&&Math.max(V,U)<u.tap_double_distance)}return false})();if(Q){f="double_tap";c=null;I("doubletap",{originalEvent:S,position:y.start});E(S)}else{var T=(y.move)?Math.abs(y.move[0].x-y.start[0].x):0;var O=(y.move)?Math.abs(y.move[0].y-y.start[0].y):0;J=Math.max(T,O);if(J<u.tap_max_distance){f="tap";c=P;C=y.start;if(u.tap){I("tap",{originalEvent:S,position:y.start});E(S)}}}}};function w(P){switch(P.type){case"mousedown":case"touchstart":y.start=N(P);s=new Date().getTime();L=v(P);j=true;i=P;var O=n.getBoundingClientRect();var T=n.clientTop||document.body.clientTop||0;var S=n.clientLeft||document.body.clientLeft||0;var Q=window.pageYOffset||n.scrollTop||document.body.scrollTop;var R=window.pageXOffset||n.scrollLeft||document.body.scrollLeft;M={top:O.top+Q-T,left:O.left+R-S};b=true;x.hold(P);if(u.prevent_default){E(P)}break;case"mousemove":case"touchmove":if(!b){return false}d=P;y.move=N(P);if(!x.transform(P)){x.drag(P)}break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":if(!b||(f!="transform"&&P.touches&&P.touches.length>0)){return false}b=false;z=P;x.swipe(P);if(f=="drag"){I("dragend",{originalEvent:P,direction:K,distance:J,angle:t})}else{if(f=="transform"){I("transformend",{originalEvent:P,position:y.center,scale:p(y.start,y.move),rotation:l(y.start,y.move),distance:J,distanceX:_distance_x,distanceY:_distance_y})}else{x.tap(i)}}e=f;I("release",{originalEvent:P,gesture:f,position:y.move||y.start});F();break}}function r(O){if(!G(n,O.relatedTarget)){w(O)}}if(H){g(n,"touchstart touchmove touchend touchcancel",w)}else{g(n,"mouseup mousedown mousemove",w);g(n,"mouseout",r)}function G(O,Q){if(!Q&&window.event&&window.event.toElement){Q=window.event.toElement}if(O===Q){return true}if(Q){var P=Q.parentNode;while(P!==null){if(P===O){return true}P=P.parentNode}}return false}function D(Q,P){var O={};if(!P){return Q}for(var R in Q){if(R in P){O[R]=P[R]}else{O[R]=Q[R]}}return O}function q(O){return Object.prototype.toString.call(O)=="[object Function]"}function g(R,Q,S){Q=Q.split(" ");for(var P=0,O=Q.length;P<O;P++){if(R.addEventListener){R.addEventListener(Q[P],S,false)}else{if(document.attachEvent){R.attachEvent("on"+Q[P],S)}}}}function a(R,Q,S){Q=Q.split(" ");for(var P=0,O=Q.length;P<O;P++){if(R.removeEventListener){R.removeEventListener(Q[P],S,false)}else{if(document.detachEvent){R.detachEvent("on"+Q[P],S)}}}}};

/*
 * Hammer.JS jQuery plugin
 * version 0.3
 * author: Eight Media
 * https://github.com/EightMedia/hammer.js
 */
jQuery.fn.hammer = function(options)
{
    return this.each(function()
    {
        var hammer = new Hammer(this, options);

        var $el = jQuery(this);
        $el.data("hammer", hammer);

        var events = ['hold','tap','doubletap','transformstart','transform','transformend','dragstart','drag','dragend','swipe','release'];

        for(var e=0; e<events.length; e++) {
            hammer['on'+ events[e]] = (function(el, eventName) {
                return function(ev) {
                    el.trigger(jQuery.Event(eventName, ev));
                };
            })($el, events[e]);
        }
    });
};